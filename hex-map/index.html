<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hex‚ÄêGrid Map Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <svg width="640" height="360">
    <defs>
      <filter id="blurFilter" x="-1" y="-1" width="100" height="100">
        <feGaussianBlur in="SourceGraphic" stdDeviation="1" />
      </filter>
      <mask id="shape">
        <rect x="0" y="0" width="100%" height="100%" fill="white" />
      </mask>
      <pattern id="shallowHatch" width="2" height="4" patternTransform="rotate(90 0 0)" patternUnits="userSpaceOnUse">
        <line x1="0" y1="0" x2="0" y2="4"
          style="stroke: black; stroke-width: 0.5; fill: black;" />
      </pattern>
    </defs>
  </svg>

  <div class="controls">
    <button onclick="undraw(); generate();">New map</button>
    <button onclick="undraw(); generate(11);">Random map</button>
    <button onclick="toggleOptions()">Options</button>
    <button id="resetZoom">Reset zoom</button>
    <span>Cell: <span id="cell">0</span>;
      Height: <span id="height">0</span>;
      <span id="feature">no</span>;
    </span>
  </div>

  <div id="options" hidden>
    <!-- copied exactly from JSFiddle -->
    <div class="right">
      <label>Show grid
        <input id="strokesInput" type="checkbox" onchange="toggleStrokes()">
      </label><br>
      <label>Blur:</label>
      <input id="blurInput" type="range" min="0" max="2" step="0.1" value="0"
        oninput="blurOutput.value = blurInput.valueAsNumber">
      <output id="blurOutput">0</output>px<br>
      <label>Draw sea polygons
        <input id="seaInput" type="checkbox">
      </label><br>
      <label>Show blobs centers
        <input type="checkbox" onclick="toggleCircles()">
      </label>
    </div>
    <div class="left">
      <label>Points radius:
        <input id="sizeInput" type="range" min="1" max="10" step="1" value="4"
          oninput="sizeOutput.value = sizeInput.valueAsNumber">
        <output id="sizeOutput">4</output>
      </label><br>
      <label>Max Height:
        <input id="heightInput" type="range" min="0.1" max="1" step="0.01" value="0.9"
          oninput="heightOutput.value = heightInput.valueAsNumber">
        <output id="heightOutput">0.9</output>
      </label><br>
      <label>Blob Radius:
        <input id="radiusInput" type="range" min="0.5" max="0.999" step="0.001" value="0.9"
          oninput="radiusOutput.value = radiusInput.valueAsNumber">
        <output id="radiusOutput">0.9</output>
      </label><br>
      <label>Blob Sharpness:
        <input id="sharpnessInput" type="range" min="0" max="0.5" step="0.1" value="0.2"
          oninput="sharpnessOutput.value = sharpnessInput.valueAsNumber">
        <output id="sharpnessOutput">0.2</output>
      </label>
    </div>
  </div>

  <!-- include dependencies -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="script.js"></script>
</body>
</html> 